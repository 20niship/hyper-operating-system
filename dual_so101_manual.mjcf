<mujoco model="dual_so101_manual">
  <compiler angle="radian" />
  
  <option gravity="0 0 -9.81" timestep="0.002" />
  
  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0" />
    <rgba haze="0.15 0.25 0.35 1" />
    <global azimuth="120" elevation="-20" />
  </visual>
  
  <default>
    <default class="robot">
      <default class="motor">
        <joint />
        <motor />
      </default>
      <default class="visual">
        <geom material="visualgeom" contype="0" conaffinity="0" group="2" />
      </default>
      <default class="collision">
        <geom material="collision_material" condim="3" contype="0" conaffinity="1" priority="1" group="1" solref="0.005 1" solimp="0.99 0.999 1e-05" friction="1 0.01 0.01" />
      </default>
    </default>
  </default>
  
  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072" />
    <texture name="grid" type="2d" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8" width="300" height="300" />
    <material name="grid" texture="grid" texrepeat="8 8" reflectance="0.2" />
    
    <!-- Robot materials -->
    <material name="3d_printed" rgba="1.0 0.82 0.12 1.0" />
    <material name="sts3215" rgba="0.1 0.1 0.1 1.0" />
    <material name="default_material" rgba="0.7 0.7 0.7 1" />
    <material name="collision_material" rgba="1.0 0.28 0.1 0.9" />
    <material name="visualgeom" rgba="0.5 0.9 0.2 1" />
    
    <!-- Robot meshes -->
    <mesh name="base_motor_holder_so101_v1.stl" file="SO101/assets/base_motor_holder_so101_v1.stl" />
    <mesh name="base_so101_v2.stl" file="SO101/assets/base_so101_v2.stl" />
    <mesh name="sts3215_03a_v1.stl" file="SO101/assets/sts3215_03a_v1.stl" />
    <mesh name="waveshare_mounting_plate_so101_v2.stl" file="SO101/assets/waveshare_mounting_plate_so101_v2.stl" />
    <mesh name="motor_holder_so101_base_v1.stl" file="SO101/assets/motor_holder_so101_base_v1.stl" />
    <mesh name="rotation_pitch_so101_v1.stl" file="SO101/assets/rotation_pitch_so101_v1.stl" />
    <mesh name="upper_arm_so101_v1.stl" file="SO101/assets/upper_arm_so101_v1.stl" />
    <mesh name="under_arm_so101_v1.stl" file="SO101/assets/under_arm_so101_v1.stl" />
    <mesh name="motor_holder_so101_wrist_v1.stl" file="SO101/assets/motor_holder_so101_wrist_v1.stl" />
    <mesh name="sts3215_03a_no_horn_v1.stl" file="SO101/assets/sts3215_03a_no_horn_v1.stl" />
    <mesh name="wrist_roll_pitch_so101_v2.stl" file="SO101/assets/wrist_roll_pitch_so101_v2.stl" />
    <mesh name="wrist_roll_follower_so101_v1.stl" file="SO101/assets/wrist_roll_follower_so101_v1.stl" />
    <mesh name="moving_jaw_so101_v1.stl" file="SO101/assets/moving_jaw_so101_v1.stl" />
  </asset>

  <worldbody>
    <!-- Ground plane -->
    <geom name="floor" pos="0 0 0" size="5 5 0.1" type="plane" material="grid" />
    
    <!-- Lighting -->
    <light name="top" pos="0 0 3" dir="0 0 -1" diffuse="0.7 0.7 0.7" />
    <light name="side1" pos="3 3 2" dir="-1 -1 -1" diffuse="0.4 0.4 0.4" />
    <light name="side2" pos="-3 -3 2" dir="1 1 -1" diffuse="0.4 0.4 0.4" />
    
    <!-- Robot 1 - Left position -->
    <body name="robot1_base_link" pos="-0.6 0 0.102400" quat="1 0 0 0" childclass="robot">
      <geom name="robot1_base_collision_0" pos="-0.00636471 -9.94414e-05 -0.0024" quat="0.49999816339744785 0.4999999999966273 0.5000018366025512 0.4999999999966273" type="mesh" mesh="base_motor_holder_so101_v1.stl" class="collision" />
      <geom name="robot1_base_collision_1" pos="-0.00636471 -8.97657e-09 -0.0024" quat="0.4999981633974483 0.49999999999662686 0.5000018366025516 0.49999999999662686" type="mesh" mesh="base_so101_v2.stl" class="collision" />
      <geom name="robot1_base_collision_2" pos="0.0263353 -8.97657e-09 0.0437" quat="1.0 -4.10574e-16 3.922564999999744e-18 6.245e-16" type="mesh" mesh="sts3215_03a_v1.stl" class="collision" />
      <geom name="robot1_base_collision_3" pos="-0.0309827 -0.000199441 0.0474" quat="0.4999981633974449 0.49999999999663025 0.5000018366025482 0.49999999999663025" type="mesh" mesh="waveshare_mounting_plate_so101_v2.stl" class="collision" />
      <geom name="robot1_base_visual_0" pos="-0.00636471 -9.94414e-05 -0.0024" quat="0.49999816339744785 0.4999999999966273 0.5000018366025512 0.4999999999966273" material="3d_printed" type="mesh" mesh="base_motor_holder_so101_v1.stl" class="visual" />
      <geom name="robot1_base_visual_1" pos="-0.00636471 -8.97657e-09 -0.0024" quat="0.4999981633974483 0.49999999999662686 0.5000018366025516 0.49999999999662686" material="3d_printed" type="mesh" mesh="base_so101_v2.stl" class="visual" />
      <geom name="robot1_base_visual_2" pos="0.0263353 -8.97657e-09 0.0437" quat="1.0 -4.10574e-16 3.922564999999744e-18 6.245e-16" material="sts3215" type="mesh" mesh="sts3215_03a_v1.stl" class="visual" />
      <geom name="robot1_base_visual_3" pos="-0.0309827 -0.000199441 0.0474" quat="0.4999981633974449 0.49999999999663025 0.5000018366025482 0.49999999999663025" material="3d_printed" type="mesh" mesh="waveshare_mounting_plate_so101_v2.stl" class="visual" />
      
      <body name="robot1_shoulder_link" pos="0.0388353 -8.97657e-09 0.0624" quat="1.760363785199545e-12 1.326794896676365e-06 -0.9999999999982396 -1.326794896676365e-06">
        <joint name="robot1_shoulder_pan" type="hinge" ref="0.0" class="motor" range="-1.91986 1.91986" axis="0 0 1" />
        <inertial pos="-0.0307604 -1.66727e-05 -0.0252713" quat="1.0 0.0 0.0 0.0" mass="0.100006" diaginertia="8.3759e-05 8.10403e-05 2.39783e-05" />
        <geom name="robot1_shoulder_collision_0" pos="-0.0303992 0.000422241 -0.0417" quat="0.4999981633974483 0.49999999999662686 0.49999999999662686 -0.5000018366025516" type="mesh" mesh="sts3215_03a_v1.stl" class="collision" />
        <geom name="robot1_shoulder_visual_0" pos="-0.0303992 0.000422241 -0.0417" quat="0.4999981633974483 0.49999999999662686 0.49999999999662686 -0.5000018366025516" material="sts3215" type="mesh" mesh="sts3215_03a_v1.stl" class="visual" />
        
        <body name="robot1_upper_arm_link" pos="-0.0303992 -0.0182778 -0.0542" quat="0.4999981633974483 -0.49999999999662686 -0.49999999999662686 -0.5000018366025516">
          <joint name="robot1_shoulder_lift" type="hinge" ref="0.0" class="motor" range="-1.74533 1.74533" axis="0 0 1" />
          <inertial pos="-0.0898471 -0.00838224 0.0184089" quat="1.0 0.0 0.0 0.0" mass="0.103" diaginertia="4.08002e-05 0.000147318 0.000142487" />
          <geom name="robot1_upper_arm_visual" pos="-0.065085 0.012 0.0182" quat="1.3267948966775328e-06 0.9999999999991198 -6.545549999994239e-31 -8.684602335947626e-37" material="3d_printed" type="mesh" mesh="upper_arm_so101_v1.stl" class="visual" />
          
          <body name="robot1_lower_arm_link" pos="-0.11257 -0.028 1.73763e-16" quat="0.7071054825112363 -4.3766725580708164e-16 1.8055643788175648e-16 0.7071080798594735">
            <joint name="robot1_elbow_flex" type="hinge" ref="0.0" class="motor" range="-1.69 1.69" axis="0 0 1" />
            <inertial pos="-0.0980701 0.00324376 0.0182831" quat="1.0 0.0 0.0 0.0" mass="0.104" diaginertia="2.87438e-05 0.000159844 0.00014529" />
            <geom name="robot1_lower_arm_visual" pos="-0.0648499 -0.032 0.0182" quat="1.3267948966775328e-06 0.9999999999991198 3.336009999997064e-31 4.426201043265217e-37" material="3d_printed" type="mesh" mesh="under_arm_so101_v1.stl" class="visual" />
            
            <body name="robot1_wrist_link" pos="-0.1349 0.0052 3.62355e-17" quat="0.7071054825112363 1.7295535595292469e-15 -1.116241234178666e-15 -0.7071080798594735">
              <joint name="robot1_wrist_flex" type="hinge" ref="0.0" class="motor" range="-1.65806 1.65806" axis="0 0 1" />
              <inertial pos="-0.000103312 -0.0386143 0.0281156" quat="1.0 0.0 0.0 0.0" mass="0.079" diaginertia="3.68263e-05 2.5391e-05 2.1e-05" />
              <geom name="robot1_wrist_visual" pos="0 -0.028 0.0181" quat="0.4999981633974483 -0.49999999999662686 -0.49999999999662686 -0.5000018366025516" material="3d_printed" type="mesh" mesh="wrist_roll_pitch_so101_v2.stl" class="visual" />
              
              <body name="robot1_gripper_link" pos="5.55112e-17 -0.0611 0.0181" quat="0.01721007249293119 -0.017208133464804664 0.7068986593349474 0.7068960170901372">
                <joint name="robot1_wrist_roll" type="hinge" ref="0.0" class="motor" range="-2.74385 2.84121" axis="0 0 1" />
                <inertial pos="0.000213627 0.000245138 -0.025187" quat="1.0 0.0 0.0 0.0" mass="0.087" diaginertia="2.75087e-05 4.33657e-05 3.45059e-05" />
                <geom name="robot1_gripper_follower_visual" pos="8.32667e-17 -0.000218214 0.000949706" quat="1.3267948966775328e-06 -0.9999999999991198 -3.6825988434222926e-23 -2.775559999997557e-17" material="3d_printed" type="mesh" mesh="wrist_roll_follower_so101_v1.stl" class="visual" />
                
                <body name="robot1_gripper_jaw_link" pos="0.0202 0.0188 -0.0234" quat="0.7071054825112361 0.7071080798594733 -1.8536205040112397e-08 1.8536272126587696e-08">
                  <joint name="robot1_gripper" type="hinge" ref="0.0" class="motor" range="-0.174533 1.74533" axis="0 0 1" />
                  <inertial pos="-0.00157495 -0.0300244 0.0192755" quat="1.0 0.0 0.0 0.0" mass="0.012" diaginertia="6.61427e-06 1.89032e-06 5.28738e-06" />
                  <geom name="robot1_gripper_jaw_visual" pos="-5.55112e-17 -5.55112e-17 0.0189" quat="1.0 4.765725e-17 3.469445e-18 6.203849998346558e-25" material="3d_printed" type="mesh" mesh="moving_jaw_so101_v1.stl" class="visual" />
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
    
    <!-- Robot 2 - Right position -->
    <body name="robot2_base_link" pos="0.6 0 0.102400" quat="1 0 0 0" childclass="robot">
      <geom name="robot2_base_visual_0" pos="-0.00636471 -9.94414e-05 -0.0024" quat="0.49999816339744785 0.4999999999966273 0.5000018366025512 0.4999999999966273" material="3d_printed" type="mesh" mesh="base_motor_holder_so101_v1.stl" class="visual" />
      <geom name="robot2_base_visual_1" pos="-0.00636471 -8.97657e-09 -0.0024" quat="0.4999981633974483 0.49999999999662686 0.5000018366025516 0.49999999999662686" material="3d_printed" type="mesh" mesh="base_so101_v2.stl" class="visual" />
      <geom name="robot2_base_visual_2" pos="0.0263353 -8.97657e-09 0.0437" quat="1.0 -4.10574e-16 3.922564999999744e-18 6.245e-16" material="sts3215" type="mesh" mesh="sts3215_03a_v1.stl" class="visual" />
      <geom name="robot2_base_visual_3" pos="-0.0309827 -0.000199441 0.0474" quat="0.4999981633974449 0.49999999999663025 0.5000018366025482 0.49999999999663025" material="3d_printed" type="mesh" mesh="waveshare_mounting_plate_so101_v2.stl" class="visual" />
      
      <body name="robot2_shoulder_link" pos="0.0388353 -8.97657e-09 0.0624" quat="1.760363785199545e-12 1.326794896676365e-06 -0.9999999999982396 -1.326794896676365e-06">
        <joint name="robot2_shoulder_pan" type="hinge" ref="0.0" class="motor" range="-1.91986 1.91986" axis="0 0 1" />
        <inertial pos="-0.0307604 -1.66727e-05 -0.0252713" quat="1.0 0.0 0.0 0.0" mass="0.100006" diaginertia="8.3759e-05 8.10403e-05 2.39783e-05" />
        <geom name="robot2_shoulder_visual_0" pos="-0.0303992 0.000422241 -0.0417" quat="0.4999981633974483 0.49999999999662686 0.49999999999662686 -0.5000018366025516" material="sts3215" type="mesh" mesh="sts3215_03a_v1.stl" class="visual" />
        
        <body name="robot2_upper_arm_link" pos="-0.0303992 -0.0182778 -0.0542" quat="0.4999981633974483 -0.49999999999662686 -0.49999999999662686 -0.5000018366025516">
          <joint name="robot2_shoulder_lift" type="hinge" ref="0.0" class="motor" range="-1.74533 1.74533" axis="0 0 1" />
          <inertial pos="-0.0898471 -0.00838224 0.0184089" quat="1.0 0.0 0.0 0.0" mass="0.103" diaginertia="4.08002e-05 0.000147318 0.000142487" />
          <geom name="robot2_upper_arm_visual" pos="-0.065085 0.012 0.0182" quat="1.3267948966775328e-06 0.9999999999991198 -6.545549999994239e-31 -8.684602335947626e-37" material="3d_printed" type="mesh" mesh="upper_arm_so101_v1.stl" class="visual" />
          
          <body name="robot2_lower_arm_link" pos="-0.11257 -0.028 1.73763e-16" quat="0.7071054825112363 -4.3766725580708164e-16 1.8055643788175648e-16 0.7071080798594735">
            <joint name="robot2_elbow_flex" type="hinge" ref="0.0" class="motor" range="-1.69 1.69" axis="0 0 1" />
            <inertial pos="-0.0980701 0.00324376 0.0182831" quat="1.0 0.0 0.0 0.0" mass="0.104" diaginertia="2.87438e-05 0.000159844 0.00014529" />
            <geom name="robot2_lower_arm_visual" pos="-0.0648499 -0.032 0.0182" quat="1.3267948966775328e-06 0.9999999999991198 3.336009999997064e-31 4.426201043265217e-37" material="3d_printed" type="mesh" mesh="under_arm_so101_v1.stl" class="visual" />
            
            <body name="robot2_wrist_link" pos="-0.1349 0.0052 3.62355e-17" quat="0.7071054825112363 1.7295535595292469e-15 -1.116241234178666e-15 -0.7071080798594735">
              <joint name="robot2_wrist_flex" type="hinge" ref="0.0" class="motor" range="-1.65806 1.65806" axis="0 0 1" />
              <inertial pos="-0.000103312 -0.0386143 0.0281156" quat="1.0 0.0 0.0 0.0" mass="0.079" diaginertia="3.68263e-05 2.5391e-05 2.1e-05" />
              <geom name="robot2_wrist_visual" pos="0 -0.028 0.0181" quat="0.4999981633974483 -0.49999999999662686 -0.49999999999662686 -0.5000018366025516" material="3d_printed" type="mesh" mesh="wrist_roll_pitch_so101_v2.stl" class="visual" />
              
              <body name="robot2_gripper_link" pos="5.55112e-17 -0.0611 0.0181" quat="0.01721007249293119 -0.017208133464804664 0.7068986593349474 0.7068960170901372">
                <joint name="robot2_wrist_roll" type="hinge" ref="0.0" class="motor" range="-2.74385 2.84121" axis="0 0 1" />
                <inertial pos="0.000213627 0.000245138 -0.025187" quat="1.0 0.0 0.0 0.0" mass="0.087" diaginertia="2.75087e-05 4.33657e-05 3.45059e-05" />
                <geom name="robot2_gripper_follower_visual" pos="8.32667e-17 -0.000218214 0.000949706" quat="1.3267948966775328e-06 -0.9999999999991198 -3.6825988434222926e-23 -2.775559999997557e-17" material="3d_printed" type="mesh" mesh="wrist_roll_follower_so101_v1.stl" class="visual" />
                
                <body name="robot2_gripper_jaw_link" pos="0.0202 0.0188 -0.0234" quat="0.7071054825112361 0.7071080798594733 -1.8536205040112397e-08 1.8536272126587696e-08">
                  <joint name="robot2_gripper" type="hinge" ref="0.0" class="motor" range="-0.174533 1.74533" axis="0 0 1" />
                  <inertial pos="-0.00157495 -0.0300244 0.0192755" quat="1.0 0.0 0.0 0.0" mass="0.012" diaginertia="6.61427e-06 1.89032e-06 5.28738e-06" />
                  <geom name="robot2_gripper_jaw_visual" pos="-5.55112e-17 -5.55112e-17 0.0189" quat="1.0 4.765725e-17 3.469445e-18 6.203849998346558e-25" material="3d_printed" type="mesh" mesh="moving_jaw_so101_v1.stl" class="visual" />
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
    
    <!-- Cameras for viewing the scene -->
    <camera name="overview" mode="free" fovy="60" pos="0 -2.5 1.5" xyaxes="1 0 0 0 0.4 1" />
    <camera name="side_view" mode="free" fovy="60" pos="2.5 0 1.2" xyaxes="0 1 0 0 0 1" />
    <camera name="top_view" mode="free" fovy="60" pos="0 0 3" xyaxes="1 0 0 0 1 0" />
  </worldbody>

  <actuator>
    <!-- Robot 1 actuators -->
    <motor name="robot1_shoulder_pan_ctrl" joint="robot1_shoulder_pan" class="motor" />
    <motor name="robot1_shoulder_lift_ctrl" joint="robot1_shoulder_lift" class="motor" />
    <motor name="robot1_elbow_flex_ctrl" joint="robot1_elbow_flex" class="motor" />
    <motor name="robot1_wrist_flex_ctrl" joint="robot1_wrist_flex" class="motor" />
    <motor name="robot1_wrist_roll_ctrl" joint="robot1_wrist_roll" class="motor" />
    <motor name="robot1_gripper_ctrl" joint="robot1_gripper" class="motor" />
    
    <!-- Robot 2 actuators -->
    <motor name="robot2_shoulder_pan_ctrl" joint="robot2_shoulder_pan" class="motor" />
    <motor name="robot2_shoulder_lift_ctrl" joint="robot2_shoulder_lift" class="motor" />
    <motor name="robot2_elbow_flex_ctrl" joint="robot2_elbow_flex" class="motor" />
    <motor name="robot2_wrist_flex_ctrl" joint="robot2_wrist_flex" class="motor" />
    <motor name="robot2_wrist_roll_ctrl" joint="robot2_wrist_roll" class="motor" />
    <motor name="robot2_gripper_ctrl" joint="robot2_gripper" class="motor" />
  </actuator>
</mujoco>
